---
title: "Getting started with Git and GitHub"
author: "Mark Hanly"
institute: "UNSW"
date: "2019/03/07 (updated: `r Sys.Date()`)"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false

---
class: center, middle, inverse

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

# The challenge


---
class: left, top

# The challenge

As data analysts, we produce a lot of files

* code 
* figures 
* tables 
* reports 

Organising these files is an important, albeit often unglamorous, part of our job.  

--

**Managing versions** What do you do with old code? 

**Ensuring reproducibility** Can others reproduce your results? What about your future self? 

**Facilitating collaboration** Can other team members easily contribute?


---
class: center, middle, inverse

# The old school solution


---
class: left, top

# `r emo::ji("bicycle")` The old school solution

The old school solution combines many practical strategies:

* Using file naming conventions to track different file versions 

    * analysis-16jun20.do 
    * analysis-16jun20-mh.do 
    * analysis-final.do 
    * analysis-final-final.do

* Note changes directly in code comments or separate documentation

* Use shared folders, google drive etc 

* Share code and code snippets over email, slack etc 

--

This is ok(ish) for one person working on a small, brief project.

But if the project is **large**, involves **many people** or goes on for a **long time** this approach very quickly breaks down `r emo::ji("worried")`




---
class: center, middle, inverse

# The new school solution

---
class: left, top

# `r emo::ji("rocket")` The new school solution

The new school solution is to use dedicated **version control software**. 

There are a few options out there but by far the most popular choice is the combination of **Git** + **GitHub** `r fontawesome::fa(name = "github")`. 

--

.pull-left[

![](https://git-scm.com/images/logos/2color-lightbg@2x.png)

Git is software for tracking different versions of code files you are working on **locally**. 
]

.pull-right[

![](https://logos-world.net/wp-content/uploads/2020/11/GitHub-Logo-700x394.png)

Git Hub is a **cloud-based** platform for sharing and collaborating on projects managed with Git
]

---
class: center, inverse

# How does it work?

### Committing, branching and merging with Git

![](images/commit.gif)

---
class: center, inverse

# How does it work?

### Committing, branching and merging with Git

![](images/commit-gif-end.png)


---
class: center, inverse

# How does it work?

### Sharing versions with GitHub

![](images/push.gif)

---
class: center, inverse

# How does it work?

### Sharing versions with GitHub

![](images/push-gif-end.png)



---
class: middle, center, inverse

# It seems a bit complicated

![via giphy.com](https://media.giphy.com/media/kaq6GnxDlJaBq/giphy.gif)

_Is it worth it?_

---
class: left, top, inverse

# Yes!! It is definitely worth it! 

--

**1. Version control** | Essential for reproducibility

--

**2. Collaboration** | [OpenSAFELY](https://github.com/opensafely), [OHDSI](https://github.com/OHDSI/Atlas), [R package development](https://github.com/tidyverse/tidyverse)

--

**3. Organisation** | e.g. Code, data & outputs all stored together

--

**4. Easy web presence** | e.g. any public GitHub repo; these slides! 

--

**5. Great for teaching** 

--

**6. Powerful search** 

--

**7. Issue tracking** | Hyperlink the bug, discussion about the bug & the solution!

--

**8. It is all _free*_** | *Well, mostly. The free products will cover most academic/research use cases. 


---
class: left, top

# Let's check out an example

.left-column[

If reading this at home explore the repo for: 

[Commit history](https://github.com/CBDRH/vaccineQueueNetworks/commits/main)

[Branches](https://github.com/CBDRH/vaccineQueueNetworks/network)

[Version comparison](https://github.com/CBDRH/vaccineQueueNetworks/commit/c0c56a376555b127279e5e0d9786b93b073f9dc7)

]

.right-column[

[![Test text](images/vax-homepage.png)](https://github.com/CBDRH/vaccineQueueNetworks)

https://github.com/CBDRH/vaccineQueueNetworks

]


---
class: left, top

# Let's check out an example

.left-column[

You can even compare difference versions of images! 

This works for PNG, JPG, GIF, and PSD

You can try this example [here](https://github.com/MarkHanly/getting-started-with-git-and-github/commit/6a071a9c63ee211e63417efba10a24042d0b0db3)

]

.right-column[

![Test text](images/image-comparison.gif)

]


---
class: middle, center, inverse

# Are you in!?

![via giphy.com](https://media.giphy.com/media/XreQmk7ETCak0/giphy.gif)



---
class: center, middle, inverse

# Interfacing with Git


---
class: left, top

# Working locally: **Git client**

To use Git on your computer you need a _Git Client_. There are [heaps](https://git-scm.com/downloads/guis) of git clients available, with different pros and cons. Here are a few examples:


.pull-left[

### 1. Command line 

* Terminal (Mac)

* Git bash (Windows)

* PowerShell (Windows)

### Downloads these from:

[git website](https://git-scm.com/download/) 

[git for windows](https://gitforwindows.org/)

]

.pull-right[

![From https://gitforwindows.org/](https://gitforwindows.org/img/gw1.png)

]


---
class: left, top

# Working locally: **Git client**

To use Git on your computer you need a _Git Client_. There are [heaps](https://git-scm.com/downloads/guis) of git clients available, with different pros and cons. Here are a few examples:


.pull-left[

### 2. R Studio interface

* For R users!

* Check out [happygitwithr.com](https://happygitwithr.com/)

]

.pull-right[



![](images/rstudio-pane.png)

]


---
class: left, top

# Working locally: **Git client**

To use Git on your computer you need a _Git Client_. There are [heaps](https://git-scm.com/downloads/guis) of git clients available, with different pros and cons. Here are a few examples:


.pull-left[

### 3. SAS Enterprise Guide interface

* For SAS users!

* [Git’r’done: Using Git in the Production SAS® Environment by
Joe Matise](https://www.lexjansen.com/wuss/2019/114_Final_Paper_PDF.pdf)

* [Using built-in Git operations in SAS](https://blogs.sas.com/content/sasdummy/2019/01/17/git-in-sas/) SAS blogpost
]

.pull-right[



![From blogs.sas.com](https://blogs.sas.com/content/sasdummy/files/2017/08/proghistory.png)

]


---
class: left, top

# Working locally: **Git client**

To use Git on your computer you need a _Git Client_. There are [heaps](https://git-scm.com/downloads/guis) of git clients available, with different pros and cons. Here are a few examples:


.pull-left[

### 4. Tortoise Git

* Windows integration to file explorer 

* If you want to point and click

* https://tortoisegit.org/ 

]

.pull-right[

![](images/tortoise-git.png)

]



---
class: left, top

# Collaboration: **Git hosting service**

To enable collaboration you need a _Git Hosting service_. There are heaps of [options](https://git.wiki.kernel.org/index.php/GitHosting) with different pros and cons, but the core functionality is usually the same.  


.left-column[

### GitHub

Probably the most popular hosting service so there are lots of tutorials and resources available online. 

]

.right-column[

![](https://logos-world.net/wp-content/uploads/2020/11/GitHub-Logo.png)

]


---
class: left, top

# Collaboration: **Git hosting service**

To enable collaboration you need a _Git Hosting service_. There are heaps of [options](https://git.wiki.kernel.org/index.php/GitHosting) with different pros and cons, but the core functionality is usually the same.   

.left-column[

### Gitea 

A light-weight easy to install option. Implemented in ERICA. 

]

.right-column[

![](https://www.vectorlogo.zone/logos/giteaio/giteaio-ar21.png)

]


---
class: left, top

# Collaboration: **Git hosting service**

To enable collaboration you need a _Git Hosting service_. There are heaps of [options](https://git.wiki.kernel.org/index.php/GitHosting) with different pros and cons, but the core functionality is usually the same.  

.left-column[

### GitLab

Can be hosted on private server so ideal for sensitive projects. Implemented in SURE. 

]

.right-column[

![](https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/GitLab_logo.svg/1024px-GitLab_logo.svg.png)

]


---
class: center, middle, inverse

# Key concepts


---
class: left, top

# Key concept: Repository 

.pull-left[

![](images/repo-example.png)

]

.pull-right[

### A repository is where the magic happens `r emo::ji('wizard')`

* Referred to as a repo 
* Database of changes to your code (aka _diffs_)
* Hidden folder on your system named **.git**

Once you initialise a git repo in a folder, git is ready to start tracking changes to all the files and subfolders therein. 

]



---
class: left, top

# Key concept: Diff 

.pull-left[

![](images/commit-example.png)

]

.pull-right[

### Diff

* A diff is the set of changes between two versions of a file 

* When you commit, it is the _diff_ that gets recorded, not the whole version

* The screenshot highlights a single diff: deletion of the word "clinic" 

]


---
class: left, top

# Key concept: Commit 

.pull-left[

![](images/commit-diagram.png)

]

.pull-right[

### Commit

* A Commit is like clicking save in a MS Word document 

* It saves a snapshot of the code at that point in time 

* Why you commit you must write a message explaining what changed

* Committing is a two stage process - more on this later

]


---
class: center, middle, inverse

# Workflow


---
class: center, top, inverse

# Workflow

![](images/workflow.gif)

---
class: center, top, inverse

# Workflow

![](images/workflow-gif-end.png)


---
class: center, top

# Workflow

How you actual perform these commands depends on the git client you are using...

.pull-left[
![From https://gitforwindows.org/](https://gitforwindows.org/img/gw1.png)
]

.pull-right[
![](images/tortoise-git.png)
]


For today's exercises we will be using _the scary black box_.

---
class: center, middle, inverse

# Frequently asked questions 

---
class: left, top

# Frequently asked questions 

### What files can I track? 

--

This all works best for non-binary or text files e.g. your typical code files (.sas, .do, .R, .Rmd, .py) but also .png, .csv etc

You can include non-binary files (.pdf, .docx, .xlsx etc) in a git repo but the diff features won't work. It can still be useful if using the repo as a central orgnaisation point (e.g. if you save your published manuscript with the analysis code). 


---
class: left, top

# Frequently asked questions 

### How often should I commit? 

--

Well, it depends.

Just like when you start writing a word document you might not click save very often as you spew out lots of ideas, but at the end of your thesis you will carefully save evey change! 

It is best practice to keep commits fairly small and related, especially for mature projects. 


---
class: left, top

# Frequently asked questions 

### What's with the staging area? 

--

There are advantages of breaking up the commit into two steps 

* You can split a big edit into bite-sized pieces 

* Easier to review

* If you make a mistake you can _unstage_. You can't un-commit!


---
class: left, top

# Frequently asked questions 

### What about my sensitive data/code? 

--

If your data are sensitive be very careful not to track with Git (more tips on this later). 

Private repos are available if you don't want the public to see your code (you can change to public later if desired.)

---
class: left, top

# Frequently asked questions 

### How does my repo align with my project folder?

--

Just like when you create project folders and sub-folders you need to put some thought into how to organise your repos.

One option is to initiate the repo in the root folder of the project, meaning that all files and subfolders are tracked by default. 

An alternative would be to initiate the repo in a specific folder, e.g. your `Code` folder, and keep your data in a separate `Data` folder.

In either approach you can specify any files or folders that Git should ignore in a special file named `.gitignore`. 

---
class: center, middle

# Any other questions? 

![](https://media4.giphy.com/media/3oxRmsoHngzymwDl2E/giphy.gif?cid=790b7611f45362f04723bb7e24e142fc9f8342e1cc63a978&rid=giphy.gif&ct=g)


---
class: center, middle, inverse

# Exercises

---
class: left, top

# Exercise 1 of 7 `r emo::ji("weight")`

### Practice using the shell

.left-column[

### Task 
Create a new folder and empty text file using GitBash (Windows) or Terminal (Mac)

**Note** Ctrl+V doesn’t work in GitBash, right-click instead. You may need to adjust the settings.

]

.right-column[

1. Open GitBash/Terminal

1. Use the `cd` command to navigate to the location you want to create your new folder

1. Use the `mkdir` command to create a new folder named GitDemo. Enter <span style="font: Courier; color: #66C2A5; background: #282A22"> mkdir GitDemo</span>

1. Use the `cd` command again to change directory to the new folder. Enter <span style="font: Courier; color: #66C2A5; background: #282A22"> cd GitDemo</span>

1. Use the `touch` command to create a new text file named method.txt. Enter <span style="font: Courier; color: #66C2A5; background: #282A22"> touch method.txt</span>

1. Practice the commands `ls` (list) and `pwd` (print working directory)

]


---
class: left, top

# Exercise 2 of 7 `r emo::ji("weight")``r emo::ji("weight")`

### Configure git

.left-column[

### Task 
Configure Git with your username and email
]

.right-column[

Using GitBash or Terminal, configure Git with your username and email by entering the commands below:

1. <span style="font: Courier; color: #66C2A5; background: #282A22">git config --global user.name "John Doe”</span>

1. <span style="font: Courier; color: #66C2A5; background: #282A22">git config --global user.email johndoe@example.com
</span>

To check it has worked you can enter <span style="font: Courier; color: #66C2A5; background: #282A22">git config --list
</span> and you should see your user name and email listed among your configuration settings. 

]


---
class: left, top

# Exercise 3 of 7 `r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")`

### Configure git

.left-column[

### Task 
Initialise a git repo then add and commit changes to your file
]

.right-column[

1. Make sure you are in your new folder: <span style="font: Courier; color: #66C2A5; background: #282A22">cd GitDemo</span>

1. Initialise a git repo: <span style="font: Courier; color: #66C2A5; background: #282A22">git init</span>

1. Check the status of your repo: <span style="font: Courier; color: #66C2A5; background: #282A22">git status</span> (You should see that method.txt is untracked)

1. Open method.txt with your preferred text editor & write a short list or recipe. After each item:

    1. Save the file as you usually would

    1. Stage the file: <span style="font: Courier; color: #66C2A5; background: #282A22">git add -A</span>

    1. Commit the file: <span style="font: Courier; color: #66C2A5; background: #282A22">git commit -m “your message here”</span>

1. Enter <span style="font: Courier; color: #66C2A5; background: #282A22">git log</span> to view a log of your changes

]

---
class: left, top

# Exercise 4 of 7 `r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")`

### Sync Git and GitHub

.left-column[

### Task 
Create a personal access token (PAT) on GitHub and use it to authenticate your account. 
]

.right-column[

Follow steps 1-9 on **Creating a personal access token** here: https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token

]

---
class: left, top

# Exercise 5 of 7 `r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")`

### Host your repo on GitHub

.left-column[

### Task 
Push your local git repo to a GitHub repo
]

.right-column[

1. Create a new public repo in GitHub (use + button in top right-hand corner)

1. Name it something unique or give it the same name as your project folder.

1. No need to initialize a README, add a .gitignore or license

1. When you are ready select **Create Repository**

1. Follow the instructions to push an existing repository from the command line (copy code into GitBash/Terminal)
You should now be able to explore your history on GitHub

]

---
class: left, top

# Exercise 6 of 7 `r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")`

### Clone a remote repo

.left-column[

### Task 
Go to partners GitHub repo, copy URL, then clone
]

.right-column[

Pair up and complete these in tandem with your partner.

1. Add your partner as a collaborator in your new GitHub repo (Settings > Manage Access > Invite a collaborator)

1. Go to your partner’s GitHub repo and click on the clone link to get the HTTP url

1. Using GitBash/Terminal, use `cd` to navigate to a location you want to clone your partners repo (This will create a local copy of their repo. Don’t clone it into your own repo!)

1. Enter `git clone <your partners url>` to clone their repo: for example:
	<span style="font: Courier; color: #66C2A5; background: #282A22">git clone https://github.com/MarkHanly/GitPrax.git</span>

]


---
class: left, top

# Exercise 7 of 7 `r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")``r emo::ji("weight")`

### Collaborate

.left-column[

### Task 
Make changes to your partners file and push. Pull your partners changes
]

.right-column[

Pair up and complete these in tandem with your partner.

1. Open your partner’s methods.txt file using your preferred text editor
1. Edit their list and save the file
1. Use <span style="font: Courier; color: #66C2A5; background: #282A22">cd</span> to navigate inside your locally cloned copy of your partner’s repo
1. Use <span style="font: Courier; color: #66C2A5; background: #282A22">git status</span> to confirm you have edited the file
1. Use <span style="font: Courier; color: #66C2A5; background: #282A22">git add -A</span> and <span style="font: Courier; color: #66C2A5; background: #282A22">git commit -m “message”</span> as before to add and commit changes
1. Use <span style="font: Courier; color: #66C2A5; background: #282A22">git push</span> to push your local changes to your partner’s GitHub repo
1. Use <span style="font: Courier; color: #66C2A5; background: #282A22">cd</span> to navigate back to your own repo
1. Use <span style="font: Courier; color: #66C2A5; background: #282A22">git pull</span> to sync in your partner’s changes

]


---
class: left, top, inverse 

# Where to go next?

.left-column[
![From giphy.com](https://media.giphy.com/media/zuj3kcjbGj9qE/giphy.gif)

See the References and Resources slide for suggestions on where to go next.
]

.right-column[
Git and Github are powerful tools with numerous features. We have only scraped the surface, focussing on the simplest elements of an individual workflow but the real benefits come with collaboration.

*** 

Collaborating effectively requires additional steps that haven't been covered in these intro slides:

**branching** | spawn a new branch to develop new features

**merging** | combine separate branches back together

**pull requests** | request your feature branch to be integrated into the code base

]

---
class: left, top 

# References and resources

**High level (convince yourself and your team)**

* Jennifer Bryan (2018) [Excuse Me, Do You Have a Moment to Talk About Version Control?](https://doi.org/10.1080/00031305.2017.1399928), The American Statistician, 72:1, 20-27

* Kieran Healy (2019) [The Plain Person’s Guide to Plain Text Social Science](https://plain-text.co/index.html#introduction)

**Software focus**

* [Happy Git and GitHub for the useR](https://happygitwithr.com/) by Jennifer Bryan

* [Using built-in Git operations in SAS](https://blogs.sas.com/content/sasdummy/2019/01/17/git-in-sas/) SAS blogpost

* [Stata and GitHub Integration](https://medium.com/the-stata-guide/stata-and-github-integration-8c87ddf9784a) A medium.com blogpost by Asjad Naqvi

**Comprehensive references**

* [Atlassian tutorials](https://www.atlassian.com/git/tutorials/what-is-version-control) (These are excellent but focus on git+Bitbucket rather than git+GitHub)

* Chacon, S., & Straub, B. (2014). Pro git Springer Nature. (available [online]((https://git-scm.com/book/en/v2))

* [GitHub docs](https://docs.github.com/en)

---
class: left, middle, inverse

# Thank you for taking part! `r emo::ji("pray")`

If this was useful for you, or if you have any questions or suggestions, please let me know at [m.hanly@unsw.edu.au](mailto:m.hanly@unsw.edu.au) `r emo::ji("slightly_smiling_face")`

Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan) and hosted on [**netlify**](https://www.netlify.com/). Thank you to **Dr Malcolm Gillies** for input on these slides `r emo::ji("rocket")`

Feel free to share, the url is [getting-started-with-git-and-github.netlify.app](https://getting-started-with-git-and-github.netlify.app).

The source code for these slides is available at [github.com/MarkHanly/getting-started-with-git-and-github](https://github.com/MarkHanly/getting-started-with-git-and-github). Issues can be added [here](https://github.com/MarkHanly/getting-started-with-git-and-github/issues).

---
class: center, middle, inverse

<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource" property="dct:title" rel="dct:type">Getting Started with Git and GitHub</span> by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Mark Hanly</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.

